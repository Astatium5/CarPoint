{% extends 'base/distributor/base.html' %}
{% load static %}
{% block body %}
<div id="doneToast" class="toast align-items-center text-bg-success" role="alert" aria-live="assertive" aria-atomic="true">
    <div class="d-flex">
      <div class="toast-body">
        Файл успешно загружен!
      </div>
      <button type="button" class="btn-close me-2 m-auto" data-bs-dismiss="toast" aria-label="Close" onclick="closeToast('doneToast')"></button>
    </div>
</div>

<div class="modal" tabindex="-1" role="dialog">
  <div class="modal-dialog modal-sm" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Загрузка</h5>
      </div>
      <p>
      <div class="row">
        <div class="col-md-8 ms-auto"><div class="lds-ring"><div></div><div></div><div></div><div></div></div></div>
        <div id="status" class="ms-auto"></div>
        <div id="time" class="ms-auto"></div>
      </div>
      </p>
    </div>
  </div>
</div>

<div id="profile-container" class="container py-5 container-fluid">
    <div class="media">
        <img src="{% static 'parser/img/thumb.jpg' %}" class="rounded mx-auto d-block" alt="Thumb" width="100" height="100">
        <div class="media-body">
          <h5 class="mt-0 align-self-center"><span class="badge rounded-pill text-bg-info w-100">{{full_name}}</span></h5>
        </div>
    </div>
    <div class="btn-group w-100" role="group" aria-label="Second group">
        <h5 class="mt-0 align-self-center"><span class="badge rounded-pill text-bg-dark w-100">{{username}}</span></h5>
        <button class="history-btn" type="submit" onclick=""><i class="bi bi-clock-history"></i></button>
        <button class="logout-btn" type="submit" onclick="logout()"><i class="bi bi-box-arrow-right"></i></button>
    </div>
    &nbsp;
    <div id="id-session-alert" class="alert alert-success" role="alert">
        Идентификатор сессии: <b>{{session_key}}</b>
    </div>
    <div id="warning-alert" class="alert alert-warning" role="alert">
      <strong>Перед загрузкой, желательно проверять данные! (На корректность или формат)</strong>
    </div>
    <form id="upload-form" action="" method="POST">
        <input id="upload-input" type="file" multiple>
        <p>Перетащите файл или нажмите на область</p>
    </form>
    <p>
        <div class="btn-group w-100" role="group" aria-label="First group">
            <button type="button" class="btn btn-success" onclick="uploadFile()">Загрузить</button>
        </div>
    </p>
</div>
{% endblock %}